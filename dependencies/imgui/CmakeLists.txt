cmake_minimum_required(VERSION 3.27)
project(imgui)

option(allegro5 "allegro5" off)
option(android_opengl3 "android_opengl3" off)
option(apple_metal "apple_metal" off)
option(apple_opengl2 "apple_opengl2" off)
option(emscripten_wgpu "emscripten_wgpu" off)
option(glfw_metal "glfw_metal" off)
option(glfw_opengl2 "glfw_opengl2" off)
option(glfw_opengl3 "glfw_opengl3" off)
option(glfw_vulkan "glfw_vulkan" off)
option(glut_opengl2 "glut_opengl2" off)
option(sdl2_directx11 "sdl2_directx11" off)
option(sdl2_metal "sdl2_metal" off)
option(sdl2_opengl2 "sdl2_opengl2" off)
option(sdl2_opengl3 "sdl2_opengl3" off)
option(sdl2_sdlrenderer2 "sdl2_sdlrenderer2" off)
option(sdl2_vulkan "sdl2_vulkan" off)
option(sdl3_opengl3 "sdl3_opengl3" off)
option(sdl3_sdlrenderer3 "sdl3_sdlrenderer3" off)
option(win32_directx9 "win32_directx9" off)
option(win32_directx10 "win32_directx10" off)
option(win32_directx11 "win32_directx11" off)
option(win32_directx12 "win32_directx12" off)
option(win32_opengl3 "win32_opengl3" off)
if(allegro5)
    set(BACKEND_CPP imgui/backends/imgui_impl_allegro5.cpp)
    set(BACKEND_H imgui/backends/imgui_impl_allegro5.h)
endif()
if(android_opengl3)
    set(BACKEND_CPP imgui/backends/imgui_impl_android.cpp imgui/backends/imgui_impl_opengl3.cpp)
    set(BACKEND_H imgui/backends/imgui_impl_android.h imgui/backends/imgui_impl_opengl3.h)
endif(apple_metal)
if()
    set(BACKEND_CPP imgui/backends/imgui_impl_osx.cpp imgui/backends/imgui_impl_metal.cpp)
    set(BACKEND_H imgui/backends/imgui_impl_osx.h imgui/backends/imgui_impl_metal.h)
endif()
if(apple_opengl2)
    set(BACKEND_CPP imgui/backends/imgui_impl_osx.cpp imgui/backends/imgui_impl_opengl2.cpp)
    set(BACKEND_H imgui/backends/imgui_impl_osx.h imgui/backends/imgui_impl_opengl2.h)
endif()
if(emscripten_wgpu)
    set(BACKEND_CPP imgui/backends/imgui_impl_glfw.cpp imgui/backends/imgui_impl_wgpu.cpp)
    set(BACKEND_H imgui/backends/imgui_impl_glfw.h imgui/backends/imgui_impl_wgpu.h)
endif()
if(glfw_metal)
    set(BACKEND_CPP imgui/backends/imgui_impl_glfw.cpp imgui/backends/imgui_impl_metal.cpp)
    set(BACKEND_H imgui/backends/imgui_impl_glfw.h imgui/backends/imgui_impl_metal.h)
endif()
if(glfw_opengl2)
    set(BACKEND_CPP imgui/backends/imgui_impl_glfw.cpp imgui/backends/imgui_impl_opengl2.cpp)
    set(BACKEND_H imgui/backends/imgui_impl_glfw.h imgui/backends/imgui_impl_opengl2.h)
endif()
if(glfw_opengl3)
    set(BACKEND_CPP imgui/backends/imgui_impl_glfw.cpp imgui/backends/imgui_impl_opengl3.cpp)
    set(BACKEND_H imgui/backends/imgui_impl_glfw.h imgui/backends/imgui_impl_opengl3.h)
endif()
if(glfw_vulkan)
    set(BACKEND_CPP imgui/backends/imgui_impl_glfw.cpp imgui/backends/imgui_impl_vulkan.cpp)
    set(BACKEND_H imgui/backends/imgui_impl_glfw.h imgui/backends/imgui_impl_vulkan.h)
endif()
if(glut_opengl2)
    set(BACKEND_CPP imgui/backends/imgui_impl_glut.cpp imgui/backends/imgui_impl_opengl2.cpp)
    set(BACKEND_H imgui/backends/imgui_impl_glut.h imgui/backends/imgui_impl_opengl2.h)
endif()
if(sdl2_directx11)
    set(BACKEND_CPP imgui/backends/imgui_impl_sdl2.cpp imgui/backends/imgui_impl_dx11.cpp)
    set(BACKEND_H imgui/backends/imgui_impl_sdl2.h imgui/backends/imgui_impl_dx11.h)
endif()
if(sdl2_metal)
    set(BACKEND_CPP imgui/backends/imgui_impl_sdl2.cpp imgui/backends/imgui_impl_metal.cpp)
    set(BACKEND_H imgui/backends/imgui_impl_sdl2.h imgui/backends/imgui_impl_metal.h)
endif()
if(sdl2_opengl2)
    set(BACKEND_CPP imgui/backends/imgui_impl_sdl2.cpp imgui/backends/imgui_impl_opengl2.cpp)
    set(BACKEND_H imgui/backends/imgui_impl_sdl2.h imgui/backends/imgui_impl_opengl2.h)
endif()
if(sdl2_opengl3)
    set(BACKEND_CPP imgui/backends/imgui_impl_sdl2.cpp imgui/backends/imgui_impl_opengl3.cpp)
    set(BACKEND_H imgui/backends/imgui_impl_sdl2.h imgui/backends/imgui_impl_opengl3.h)
endif()
if(sdl2_sdlrenderer2)
    set(BACKEND_CPP imgui/backends/imgui_impl_sdl2.cpp imgui/backends/imgui_impl_sdlrenderer2.cpp)
    set(BACKEND_H imgui/backends/imgui_impl_sdl2.h imgui/backends/imgui_impl_sdlrenderer2.h)
endif()
if(sdl2_vulkan)
    set(BACKEND_CPP imgui/backends/imgui_impl_sdl2.cpp imgui/backends/imgui_impl_vulkan.cpp)
    set(BACKEND_H imgui/backends/imgui_impl_sdl2.h imgui/backends/imgui_impl_vulkan.h)
endif()
if(sdl3_opengl3)
    set(BACKEND_CPP imgui/backends/imgui_impl_sdl3.cpp imgui/backends/imgui_impl_.cpp)
    set(BACKEND_H imgui/backends/imgui_impl_sdl3.h imgui/backends/imgui_impl_.h)
endif()
if(sdl3_sdlrenderer3)
    set(BACKEND_CPP imgui/backends/imgui_impl_sdl3.cpp imgui/backends/imgui_impl_.cpp)
    set(BACKEND_H imgui/backends/imgui_impl_sdl3.h imgui/backends/imgui_impl_.h)
endif()
if(win32_directx9)
    set(BACKEND_CPP imgui/backends/imgui_impl_win32.cpp imgui/backends/imgui_impl_dx9.cpp)
    set(BACKEND_H imgui/backends/imgui_impl_win32.h imgui/backends/imgui_impl_dx9.h)
endif()
if(win32_directx10)
    set(BACKEND_CPP imgui/backends/imgui_impl_win32.cpp imgui/backends/imgui_impl_dx10.cpp)
    set(BACKEND_H imgui/backends/imgui_impl_win32.h imgui/backends/imgui_impl_dx10.h)
endif()
if(win32_directx11)
    set(BACKEND_CPP imgui/backends/imgui_impl_win32.cpp imgui/backends/imgui_impl_dx11.cpp)
    set(BACKEND_H imgui/backends/imgui_impl_win32.h imgui/backends/imgui_impl_dx11.h)
endif()
if(win32_directx12)
    set(BACKEND_CPP imgui/backends/imgui_impl_win32.cpp imgui/backends/imgui_impl_dx12.cpp)
    set(BACKEND_H imgui/backends/imgui_impl_win32.h imgui/backends/imgui_impl_dx12.h)
endif()
if(win32_opengl3)
    set(BACKEND_CPP imgui/backends/imgui_impl_win32.cpp imgui/backends/imgui_impl_opengl3.cpp)
    set(BACKEND_H imgui/backends/imgui_impl_win32.h imgui/backends/imgui_impl_opengl3.h)
endif()
file(GLOB BASE_CPP imgui/*.cpp)
set(BASE_H imgui/)
file(GLOB_RECURSE MISC_CPP imgui/misc/*.cpp)
set(MISC_H imgui/misc/)
add_library(imgui ${BASE_CPP} ${MISC_CPP} ${BACKEND_CPP})
target_include_directories(imgui PUBLIC ${BASE_H} ${MISC_H} ${BACKEND_H})
